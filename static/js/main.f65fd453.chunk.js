(this["webpackJsonpreact-covid"]=this["webpackJsonpreact-covid"]||[]).push([[0],{219:function(e,t,a){},378:function(e,t,a){},382:function(e){e.exports=JSON.parse('{"appTitle":"COVID-19 Takip","countries":"\xdclkeler","total":"Toplam","active":"Aktif","death":"\xd6l\xfcm","cases":"Vaka","recovered":"\u0130yile\u015fen","worldwide":"D\xfcnya Geneli","last30Days":"Son 30 G\xfcn"}')},383:function(e){e.exports=JSON.parse('{"appTitle":"COVID-19 Tracker","countries":"Countries","total":"Total","active":"Active","death":"Death","deaths":"Deaths","cases":"Cases","recovered":"Recovered","worldwide":"World Wide","last30Days":"Last 30 Days"}')},385:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(47),r=a.n(c),s=(a(219),a(220),a(403)),i=a.p+"static/media/tr.2880fc8e.svg",o=a.p+"static/media/en.a3e6d90f.svg",l=a(2);var u=function(){var e=Object(s.a)().i18n,t=function(t){return function(){return e.changeLanguage(t)}};return Object(l.jsxs)("div",{className:"app-title",children:[Object(l.jsx)("img",{src:i,className:"translation-flag",alt:"logo",onClick:t("tr")}),Object(l.jsx)("img",{src:o,className:"translation-flag en",alt:"logo",onClick:t("en")})]})},j=a(398),d=a(388),b=a(389),h=a(10),f=a(401),O=a(399),p=a(43),v=a(19),x=a.n(v),y=a(28),m=a(33),g=a(184),w=a(185),N=a(61),C=a.n(N),k=function(){return C.a.create({baseURL:"https://disease.sh/v3/covid-19/",headers:{"Content-type":"application/json"}})},S=function(){function e(){Object(g.a)(this,e),console.log("API service called.")}return Object(w.a)(e,[{key:"getAllCountries",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().get("countries");case 2:return a=e.sent,(n=a.data).sort((function(e,a){return a[t]-e[t]})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWorldwideInfo",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().get("all");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getHistoricalData",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k().get("historical/all?lastdays=30");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getHistoricalCountryData",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k().get("historical/"+t+"?lastdays=30");case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();var T=function(){var e=Object(m.c)((function(e){return e.covidState})).activeState,t=Object(m.c)((function(e){return e.country})).worldwide,a=Object(m.b)(),c=Object(s.a)().t,r=Object(n.useState)([]),i=Object(h.a)(r,2),o=i[0],u=i[1];function j(e){var t;a((t=0!==Object.keys(e).length&&e?e.countryInfo.iso2:"all",function(){var e=Object(y.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SELECT_COUNTRY",payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a(function(e){return function(){var t=Object(y.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CHANGE_ACTIVE_COUNTRY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}function v(e){a(function(e){return function(){var t=Object(y.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SELECT_STATE",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}return Object(n.useEffect)((function(){var t=new S;t.getAllCountries(e).then((function(e){u(e)})).catch((function(e){return console.log(e)})),t.getWorldwideInfo().then((function(e){a(function(e){return function(){var t=Object(y.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_WORLDWIDE_INFO",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}))}),[e]),Object(l.jsxs)("div",{children:[Object(l.jsxs)(d.a,{className:"mb-2",children:[Object(l.jsx)(b.a,{onClick:function(){return v("cases")},className:"d-flex align-items-stretch covid-state",children:Object(l.jsx)(f.a,{className:"cases"===e?"active-state w-100":"w-100",children:Object(l.jsx)(f.a.Body,{children:c("total")})})}),Object(l.jsx)(b.a,{onClick:function(){return v("active")},className:"d-flex align-items-stretch covid-state",children:Object(l.jsx)(f.a,{className:"active"===e?"active-state w-100":"w-100",children:Object(l.jsx)(f.a.Body,{children:c("active")})})}),Object(l.jsx)(b.a,{onClick:function(){return v("deaths")},className:"d-flex align-items-stretch covid-state",children:Object(l.jsx)(f.a,{className:"deaths"===e?"active-state w-100":"w-100",children:Object(l.jsx)(f.a.Body,{children:c("death")})})})]}),Object(l.jsxs)(f.a,{style:{height:"530px"},children:[Object(l.jsxs)(O.a.Item,{variant:"primary",style:{cursor:"pointer"},onClick:function(){return j({})},className:"border-0 fw-bold d-flex justify-content-between align-items-start ",children:[Object(l.jsx)("div",{children:c("worldwide")}),Object(l.jsx)("span",{children:Object(l.jsx)(p.a,{value:null===t||void 0===t?void 0:t.cases,thousandSeparator:!0,displayType:"text"})})]}),Object(l.jsx)(O.a,{style:{cursor:"pointer"},variant:"flush",className:"country-list",children:o.map((function(t,a){var n="d-flex justify-content-between align-items-start ";a%2===0&&(n+="list-group-item-secondary");var c=t.cases;return"active"===e?c=t.active:"deaths"===e&&(c=t.deaths),Object(l.jsxs)(O.a.Item,{onClick:function(){return j(t)},className:n,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:t.countryInfo.flag,height:15,alt:t.countryInfo.iso2}),Object(l.jsx)("span",{style:{marginLeft:"5px"},children:t.country})]}),Object(l.jsxs)("span",{className:"fw-bold",children:[" ",Object(l.jsx)(p.a,{value:c,thousandSeparator:!0,displayType:"text"})]})]},t.country)}))})]})]})},E=a(402),I=a(197),D=a(200),A=a(85);var L=function(){var e=Object(s.a)().t,t=Object(m.c)((function(e){return e.country})).selectedCountry,a=Object(n.useState)(),c=Object(h.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)([]),u=Object(h.a)(o,2),j=u[0],O=u[1],p=function(){var e=Object(y.a)(x.a.mark((function e(){var a,n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="","all"!==t&&(a="countries/"),e.next=4,C.a.get("https://disease.sh/v3/covid-19/"+a+t);case 4:n=e.sent,c=n.data,i(c),r=v(c),O(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){var t=[];return t.push({name:"Aktif",value:e.active}),t.push({name:"\xd6l\xfcm",value:e.deaths}),t.push({name:"\u0130yile\u015fen",value:e.recovered}),t};Object(n.useEffect)((function(){p()}),[t]);var g=Math.PI/180,w=function(e){return e<1e3?e:e>=1e3&&e<1e6?+(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0},N=["#0d6efd","#d8343f","#ffc62a"];return Object(l.jsx)("div",{children:Object(l.jsx)(f.a,{className:"mt-4",children:Object(l.jsx)(f.a.Body,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(b.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)(b.a,{children:Object(l.jsxs)("label",{children:[Object(l.jsx)("i",{className:"fa fa-circle text-warning"})," ",Object(l.jsxs)("span",{children:[e("recovered")," : "]}),r&&w(r.recovered)]})}),Object(l.jsx)(b.a,{children:Object(l.jsxs)("label",{children:[Object(l.jsx)("i",{className:"fa fa-circle text-primary"})," ",Object(l.jsxs)("span",{children:[e("active")," : "]}),r&&w(r.active)]})}),Object(l.jsx)(b.a,{children:Object(l.jsxs)("label",{children:[" ",Object(l.jsx)("i",{className:"fa fa-circle text-danger"})," ",Object(l.jsxs)("span",{children:[e("death")," : "]}),r&&w(r.deaths)]})})]})}),Object(l.jsxs)(E.a,{width:400,height:310,children:[Object(l.jsx)(I.a,{dataKey:"value",isAnimationActive:!0,data:j,outerRadius:150,fill:"#8884d8",labelLine:!1,label:function(e){var t=e.cx,a=e.cy,n=e.midAngle,c=e.innerRadius,r=e.outerRadius,s=e.percent,i=c+.5*(r-c),o=t+i*Math.cos(-n*g),u=a+i*Math.sin(-n*g);return Object(l.jsx)("text",{x:o,y:u,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central",children:"".concat((100*s).toFixed(0),"%")})},children:j.map((function(e,t){return Object(l.jsx)(D.a,{fill:N[t%N.length]},"cell-".concat(t))}))}),Object(l.jsx)(A.a,{})]})]})})})})})})},R=(a(377),a(393)),_=a(404),F=a(405),B=a(394);a(378);var W=function(){var e=Object(m.c)((function(e){return e.country})).selectedCountry,t=Object(m.c)((function(e){return e.country})).activeCountry,a=Object(n.useState)([]),c=Object(h.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([39.925533,32.866287]),o=Object(h.a)(i,2),u=o[0],j=o[1],d=Object(n.useState)(2),b=Object(h.a)(d,2),f=b[0],O=b[1],v=Object(n.useState)(null),g=Object(h.a)(v,2),w=g[0],N=g[1],k=function(){var e=Object(y.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://disease.sh/v3/covid-19/countries");case 2:t=e.sent,(a=t.data).sort((function(e,t){return t.cases-e.cases})),s(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){k()}),[]),Object(n.useEffect)((function(){j("all"!==e?[t.countryInfo.lat,t.countryInfo.long]:[39.925533,32.866287]),O("all"!==e?5:2)}),[t]),w&&(w.setZoom(f),w.flyTo(u)),Object(l.jsxs)(R.a,{whenCreated:N,center:u,zoom:f,scrollWheelZoom:!0,children:[Object(l.jsx)(_.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map((function(e,t){var a=e.active/18010074*5e6;return Object(l.jsx)(F.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:"red",weight:2,fillColor:"red",radius:a,children:Object(l.jsx)(B.a,{children:Object(l.jsxs)("div",{className:"info-container",children:[Object(l.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(l.jsx)("div",{className:"info-name",children:e.country}),Object(l.jsxs)("div",{className:"info-confirmed",children:["Cases:  ",Object(l.jsx)(p.a,{value:e.cases,thousandSeparator:!0,displayType:"text"})]}),Object(l.jsxs)("div",{className:"info-recovered",children:["Recovered: ",Object(l.jsx)(p.a,{value:e.recovered,thousandSeparator:!0,displayType:"text"})]}),Object(l.jsxs)("div",{className:"info-deaths",children:["Deaths: ",Object(l.jsx)(p.a,{value:e.deaths,thousandSeparator:!0,displayType:"text"})]})]})})},e.country)}))]})},H=a(395),K=a(396),M=a(397),U=a(204),V=a(205),G=a(80),J=a(209);var P=function(){var e=Object(m.c)((function(e){return e.country})).selectedCountry,t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)({}),o=Object(h.a)(i,2),u=o[0],j=o[1],d=Object(s.a)().t;Object(n.useEffect)((function(){var t=new S;"all"===e?t.getHistoricalData().then((function(e){j(e)})):t.getHistoricalCountryData("TR").then((function(e){j(e.timeline)}))}),[e]),Object(n.useEffect)((function(){if(0!==Object.keys(u).length){var e=[],t=u.cases,a=u.deaths,n="";for(var c in t){""===n&&(n=c);var s=Number(t[c])-Number(t[n]),i=Number(a[c])-Number(a[n]);e.push({date:c.toString(),cases:s,death:i}),n=c}r(e)}}),[u]);var b=function(e){var t=e.active,a=e.payload,n=e.label;return console.log(t,a,n),t&&a&&a.length?Object(l.jsxs)("div",{className:"custom-tooltip",children:[Object(l.jsx)("p",{children:n}),Object(l.jsxs)("p",{className:"label",style:{color:"".concat(a[0].color)},children:[" ",d(a[0].name)," :  ",Object(l.jsx)(p.a,{value:"".concat(a[0].payload[a[0].name]),thousandSeparator:!0,displayType:"text"})," "]}),Object(l.jsxs)("p",{className:"label",style:{color:"".concat(a[1].color)},children:[" ",d(a[1].name)," :  ",Object(l.jsx)(p.a,{value:"".concat(a[1].payload[a[1].name]),thousandSeparator:!0,displayType:"text"})," "]})]}):null};return Object(l.jsx)("div",{className:"mt-4",children:Object(l.jsx)(f.a,{children:Object(l.jsxs)(f.a.Body,{children:[Object(l.jsxs)("h4",{className:"mb-4",children:["all"===e?d("worldwide"):e," -  ",d("last30Days")]}),Object(l.jsx)("div",{style:{height:"280px"},children:Object(l.jsx)(H.a,{width:"100%",height:"100%",children:Object(l.jsxs)(K.a,{width:500,height:300,data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(l.jsx)(M.a,{strokeDasharray:"3 3"}),Object(l.jsx)(U.a,{dataKey:"date"}),Object(l.jsx)(V.a,{}),Object(l.jsx)(A.a,{content:Object(l.jsx)(b,{})}),Object(l.jsx)(G.a,{verticalAlign:"top",formatter:function(e,t){var a=t.color;return Object(l.jsx)("span",{style:{color:a},children:d(e)})},height:36}),Object(l.jsx)(J.a,{type:"monotone",dataKey:"cases",stroke:"#19871c",activeDot:{r:8}}),Object(l.jsx)(J.a,{type:"monotone",dataKey:"death",stroke:"#d8343f"})]})})})]})})})};var Y=function(){return Object(l.jsxs)(j.a,{fluid:!0,className:"px-container",children:[Object(l.jsx)(u,{}),Object(l.jsxs)(d.a,{className:"content",children:[Object(l.jsxs)(b.a,{sm:4,children:[Object(l.jsx)(T,{}),Object(l.jsx)(L,{})]}),Object(l.jsxs)(b.a,{sm:8,children:[Object(l.jsx)(W,{}),Object(l.jsx)(P,{})]})]})]})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,406)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Z=a(109),q=a(82);Z.a.use(q.e).init({fallbackLng:"tr",lng:"tr",resources:{tr:{translations:a(382)},en:{translations:a(383)}},ns:["translations"],defaultNS:"translations"}),Z.a.languages=["tr","en"];Z.a;var Q=a(81),X=a(8),$={data:[],activeCountry:{},selectedCountry:"all",worldwide:{}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COUNTRY":return Object(X.a)(Object(X.a)({},e),{},{selectedCountry:t.payload});case"CHANGE_ACTIVE_COUNTRY":return Object(X.a)(Object(X.a)({},e),{},{activeCountry:t.payload});case"SET_WORLDWIDE_INFO":return Object(X.a)(Object(X.a)({},e),{},{worldwide:t.payload});default:return e}},te={activeState:"cases"},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return"SELECT_STATE"===t.type?Object(X.a)(Object(X.a)({},e),{},{activeState:t.payload}):e},ne=Object(Q.b)({country:ee,covidState:ae}),ce=a(207),re=(a(384),Object(Q.c)(ne,Object(Q.a)(ce.a)));r.a.render(Object(l.jsx)(m.a,{store:re,children:Object(l.jsx)(Y,{})}),document.getElementById("root")),z()}},[[385,1,2]]]);
//# sourceMappingURL=main.f65fd453.chunk.js.map